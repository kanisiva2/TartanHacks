---
description: Project context and conventions for the TartanHacks game
alwaysApply: true
---

# TartanHacks - Scotty the Terrier Game

## Project Overview

A mobile-friendly HTML5 canvas game built for TartanHacks. Single-file (`index.html`), no frameworks or dependencies.

## Tech Stack

- **Single-file HTML/CSS/JS** (`index.html`) — no build tools
- **HTML5 Canvas** (2D context) for rendering
- **Virtual joystick** for touch/mouse input
- Mobile-first with `touch-action: none` and `user-scalable=no`

## Architecture

- All logic lives in an IIFE inside `index.html`
- Game loop at 60fps via `setInterval`
- Camera follows Scotty (always screen-centered)
- `toScreen(wx, wy)` projects world coords to screen with `TILT` (0.55) Y-compression

## Map System

- **Chunk-based**: world divided into 80x80 unit squares (`CHUNK = 80`)
- **Lazy generation**: chunks are randomly assigned one of 4 green shades on first access, cached in `chunks` object keyed by `"cx,cy"`
- **Visibility culling**: only chunks within screen bounds (+ 1 margin) are drawn each frame
- **Infinite & persistent**: map extends infinitely, revisited areas look the same

## Current State

- Scotty rendered as a flat gold circle (placeholder)
- Joystick controls movement
- No game mechanics yet (no enemies, no score, no win condition)

## Build & Size Check

When asked to check the byte size, run these commands and update the current size below:

```bash
rm -f app.tar.br && tar -cf - index.html | brotli -q 11 -o app.tar.br && stat -f %z app.tar.br
```

**Current compressed size: 2399 bytes**

## Style Guide

- Gold/amber UI theme (`#e8c547`, `#d4a84b`, `#b8860b`)
- Keep the game lightweight — minimize code size
